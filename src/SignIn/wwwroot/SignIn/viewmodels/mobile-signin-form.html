<link rel="import" href="/sys/puppet-redirect/puppet-redirect.html" />
﻿<link rel="import" href="/SignIn/elements/signin-element.html" />

<template>

  <template is="dom-bind">

    <div class="login-screen modal-in">
        <div class="view">
          <div class="page">
            <div class="page-content login-screen-content">
              <div class="login-screen-title">Login</div>

              <form>
                <div class="list-block">
                  <ul>
                    <li class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Username</div>
                        <div class="item-input">
                          <input type="text" name="username" placeholder="Your username" value="{{model.Username$::input}}">
                        </div>
                      </div>
                    </li>
                    <li class="item-content">
                      <div class="item-inner">
                        <div class="item-title label">Password</div>
                        <div class="item-input">
                          <input type="password" name="password" placeholder="Your password" value="{{local.password::input}}">
                        </div>
                      </div>
                    </li>
                  </ul>
                </div>
                <div class="list-block">
                  <ul>
                    <li><a href="#" on-tap="signIn" class="item-link list-button">Sign In</a></li>
                  </ul>
                  <div class="list-block-label">
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                    <p><a href="#" class="close-login-screen">Close Login Screen</a></p>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>


<!--







    <div id="loginBackground">
      <div id="loginBox">
        <template is="dom-if" if="{{!model.IsSignedIn}}">
          <div id="logologin"></div>
          <template is="dom-if" if="{{model.Message}}">
            <p class="alert alert-danger">{{model.Message}}</p>
          </template>
          <input name="name" label="Username" ></input>
          <input name="name" label="Username" value="{{model.Username$::input}}"></input>
          <input name="pass" label="Password" value="{{local.password::input}}" type="password"></input>
          <button raised on-tap="signIn">Sign in</button>
        </template>
        <template is="dom-if" if="{{model.IsSignedIn}}">
          <button raised on-click="signOut">Sign out</button>
        </template>
      </div>
      <signin-element username="{{model.Username$}}" password="{{local.password}}" remember-me="{{model.RememberMe$}}" submit="{{model.Submit}}"></signin-element>
    </div>




  -->
  </template>
  <script>
        (function () {
            var script = document._currentScript || document.currentScript;
            var template = script.previousElementSibling;

            template.local = {
                password: ""
            };



            template.signOut = function () {
              puppet.network.changeState("/signin/partial/signout");
            };

            template.signIn = function () {

              myApp.addNotification({
                message: 'Close me to see Alert',
                button: {
                    text: 'Close Me',
                    color: 'lightgreen'
                },
                onClose: function () {
                    myApp.alert('Notification closed');
                }
            });



                setTimeout(function () {
                    template.set("model.SignInClick$", template.model.SignInClick$ + 1);
                    window.tu.puppetDirtyCheck();


                });

              };
        })();
    </script>
</template>
